#!/usr/bin/awk -f
#------------------------------------------------------------------------------#
#                            Programmed By Liz                                 #
#------------------------------------------------------------------------------#
#===============================================================================
BEGIN {
   a=0;as="-";an=0
   b=0;bs="-";bn=0
   c=0;cs="-";cn=0
}
#===============================================================================
{
   a+=$2
   b+=$3
   c+=$4
}
#===============================================================================
END {
   expon(a);as=s;an=n
   expon(b);bs=s;bn=n
   expon(c);cs=s;cn=n
   p=c/a*100
   # printf("disk siz:%5.3f"as" use:%5.3f"bs" avl:%5.3f"cs"\n",a/10^an,b/10^bn,c/10^cn)
   printf("disk avail:%5.3f"cs"/%5.3f%%\n",c/10^cn,p)
}
#===============================================================================
function expon(q)
{
   n=int(log(q)/log(10))      # powers of 10
   n=n-n%3                    # power steps of 3
   switch(n)                  # K M G
   {
      case 0 :
         s="B"
         break
      case 3 :
         s="KB"
         break
      case 6 :
         s="MB"
         break
      case 9 :
         s="GB"
         break
      case 12 :
         s="TB"
         break
   }
}
#===============================================================================
